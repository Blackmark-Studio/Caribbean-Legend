// Натаниэль Хоук - пиратский барон Марун-Тауна
void ProcessDialogEvent()
{
	ref NPChar, sld;
	aref Link, NextDiag;

	DeleteAttribute(&Dialog,"Links");

	makeref(NPChar,CharacterRef);
	makearef(Link, Dialog.Links);
	makearef(NextDiag, NPChar.Dialog);
	
	switch(Dialog.CurrentNode)
	{
		case "First time":
			dialog.text = "何か用か？";
			link.l1 = "いいえ、なんでもありません。";
			link.l1.go = "exit";			
			NextDiag.TempNode = "First time";
		break;
		
		case "diffindoor":
			PlaySound("Voice\English\saga\Nataniel Hawk-02.wav");
			dialog.text = "ああ…お前は誰だ、くそっ…？けっ…（激しいしゃがれ声の咳）くそ、体が言うことをきかねえ…";
			link.l1 = "やあ、ネイサンエル。お前はネイサンエル・ホークだろう？";
			link.l1.go = "diffindoor_1";
		break;
		
		case "diffindoor_1":
			dialog.text = "ああ、俺だよ、まだその名前で自分を呼べるならな。かつてはネイサン・ホークだったが、 今じゃ見る影もない哀れなクズ袋さ。あの像め！俺の生気をすっかり吸い取っちまいやがった。";
			link.l1 = "その気持ちはよくわかる……";
			link.l1.go = "diffindoor_2";
		break;
		
		case "diffindoor_2":
			dialog.text = "どうしてお前にわかるっていうんだ、坊や。俺が何を言ってるかすら気づいてねえじゃねえか？アッハ…お前は知ってるか？さっきまで元気で丈夫だったのに、突然半死半生のジジイになる気分をよ…\n俺は今まで色んなもんを見てきた。若い頃に訪れたあの古代インディアンの神殿で、驚く心なんざ捨てたと思ってたが…こればっかりは…なんで気づかなかったんだ！あの忌々しい像、神殿の扉を開けた古い偶像にそっくりだったじゃねえか！";
			link.l1 = "よろしい、ネイサン、話そう。自己紹介させてもらう、私は "+GetFullName(pchar)+"。まず、あなたの気持ちはよく分かるよ、俺も君と同じようにククルカンのポータルを通ってここに来たからな。";
			link.l1.go = "diffindoor_3";
		break;
		
		case "diffindoor_3":
			dialog.text = "本当か！？じゃあ、なんでお前は平気そうなんだ？それとも……あのククルカンは俺だけを傷つけたのか？";
			link.l1 = "お前を助けてくれたミスキート族のシャーマン、スネークアイが、とても強力な薬をくれたんだ。\nサン・オーガスティンで目覚めてすぐにそれを飲んだら、すっかり回復したよ。\nスネークアイならきっとお前の助けにもなるはずだ。\nあとはお前を彼のところに連れて行くだけだ。";
			link.l1.go = "diffindoor_4";
		break;
		
		case "diffindoor_4":
			dialog.text = "ああ、あのインディアンか！薬だと？それなら俺にもくれりゃよかったのによ！";
			link.l1 = "彼は時間がないと言っていた。お前は追われていて、彼にできることは逃げ道――ポータルを教えることだけだったんだ。";
			link.l1.go = "diffindoor_5";
		break;
		
		case "diffindoor_5":
			PlaySound("Voice\English\saga\Nataniel Hawk-01.wav");
			dialog.text = "逃げる？ああ…俺のこの有様が見えねえのか？サーベルすら握れねえんだぜ。これのどこが逃亡だってんだ？ありがたいことに、 この世にはまだ善い奴がいるもんだ。オーレ、あいつに神のご加護を…オーレを知ってるか？";
			link.l1 = "ああ、そうだ。実は、あんたのことを教えてくれたのはあいつなんだ。ネズミを食わせた話とか、 あんたが酒を次から次へと飲み続けてるって話も聞いたぜ……";
			link.l1.go = "diffindoor_6";
		break;
		
		case "diffindoor_6":
			dialog.text = "ラムを飲まなきゃ、火のついた蝋燭より早く死んじまう。俺を生かしてるのはラムだけだ。ラムよ……";
			link.l1 = "まだそんなに気分が悪いのか？転移の後と同じ感じか？";
			link.l1.go = "diffindoor_7";
		break;
		
		case "diffindoor_7":
			dialog.text = "まあ、俺はあんまり変わった気がしねえな……でも、別に良くなったわけでもねえ。\n相棒よ、教えてくれよ、なんでわざわざナサンのじいさんに会いに来たんだ？\nなんでこんなボロ船まで来やがった？俺と話すためか？";
			link.l1 = "実はそうなんだ。信じられないかもしれないが、俺があれだけテレポートで苦労したのは、お前を探すためだったんだ。 俺はコースト同盟の使いで、ヤン・スヴェンソンの代理人だ。";
			link.l1.go = "diffindoor_8";
		break;
		
		case "diffindoor_8":
			dialog.text = "くそっ……森の悪魔か？うっ……俺を始末しに来たのか？いや、違うのか？刺客にしてはずいぶん口数が多いな。頼む、拷問だけはやめてくれ。 もし何かを吐かせるよう命じられてるなら、全部自分から話す、隠すことなんて何もないんだ。";
			link.l1 = "どういう意味だ？あっ、なるほど。お前もダニエルと同じで、 スヴェンソンがセルバでお前の命を狙った待ち伏せを仕組んだと思っているんだな。だが、 ヤンはそんなことしていないと断言できる。むしろ、彼はお前の味方で、 お前が行方不明になったことをとても心配しているんだ。";
			link.l1.go = "diffindoor_9";
		break;
		
		case "diffindoor_9":
			dialog.text = "本当か？それはくそ嬉しい知らせだぜ。俺もずっと考えてたんだが……一体誰の仕業だ？俺の部隊は数分で壊滅した。やつらは俺たちを待ち伏せしてたんだ。しかも艦砲まで用意してやがった！ ブドウ弾で俺の部下の半分をなぎ倒し、そのあとマスケット銃でとどめを刺されたんだ……";
			link.l1 = "正直に言うと、詳しいことは知らないが、ジャックマンがすべての黒幕だと確信している。偶然が多すぎる、 最初はブレイズ、次はお前……ジャックマンは権力を握ろうとして、邪魔者を次々と排除しているんだ。 今じゃお前の代わりにマルーンタウンを支配しているぞ。";
			link.l1.go = "diffindoor_10";
		break;
		
		case "diffindoor_10":
			dialog.text = "ジャックマンか？あの野郎め！ええ…ここ数年で兄弟団はバラバラになっちまった、昔は全然違ったんだ。 ザカライアは宗教の妄執で頭がおかしくなっちまったし、タイレックスは何にも興味がねえ、 バルバゾンはドゥブロン金貨にしか目がねえ。二十年前は全部違ってたんだよ…";
			link.l1 = "どうやって捕まったんだ？詳しく話してくれ。";
			link.l1.go = "diffindoor_11";
		break;
		
		case "diffindoor_11":
			dialog.text = "面白い話なんて何もないさ！言った通り、あの盗賊どもが全部仕組んでたんだ。やつらは正確に動き、連携して、 明らかに誰かの命令に従っていた。俺なんて百回は殺せたはずなのに、殺さなかった。生かしておきたかったんだ。 廃鉱に連れて行かれて、小屋の一つに閉じ込められた。「親分が来るまでだ」と言ってな。\n俺はスヴェンソンが親分かと思ってたが、どうやらジャックマンが仕切ってるらしい。 あいつが俺に何を望んでいたのかは分からねえが、話が終わった後に長く生きていられたとは思えねえな。";
			link.l1 = "それは間違いないだろう。スヴェンソンはジャックマンがブレイズ・シャープを殺したと確信している……どうやって逃げ延びたんだ？";
			link.l1.go = "diffindoor_12";
		break;
		
		case "diffindoor_12":
			dialog.text = "あのインディアンのスネークアイが、どうにかして鉱山に忍び込んできたんだ。俺の知る限り、 ミスキート族は盗賊なんて好きじゃねえはずだが、とにかくスネークアイは何かの理由で俺の脱出を手伝ってくれた。 奴は俺のところまでトンネルを掘り、中に入ってきて、縄を切ってくれて、一緒にジャングルへ逃げたんだ。\nスネークアイは俺を自分の村、ミスキート族のところへ連れて行きたがっていた。でも、 どうやらジャックマンは俺を相当欲しがっていたらしく、大規模な追跡隊が組まれた。奴らはすぐ後ろまで迫っていた。 スネークアイは必死に奴らをまこうとしたが、どうしても足跡を見つけられてしまう。 奴らには腕のいい道案内がいたんだろうな。\nスネークアイの村の近くまで来たとき、ついに奴らに見つかった。その時点で俺の腹は二日も空っぽで、 足もひどく怪我して完全に力尽きていた。真夜中で、像の上の星がやけに明るかったのを今でも覚えてる……スネークアイは「唯一の望みはあの偶像にたどり着いて触れることだ」と言ったんだ。\nあいつは頭がおかしいんじゃないかと思ったが、溺れる者は藁をもつかむって言うだろ？ 俺は足を引きずりながら像まで行って、触った……そしたら、とんでもないことが起こり始めたんだ！";
			link.l1 = "もう続けなくていい、後のことは分かっている。";
			link.l1.go = "diffindoor_13";
		break;
		
		case "diffindoor_13":
			dialog.text = "俺は沈没船のじめじめした船倉で目を覚ました。半分死んでたんだ。歩くこともできず、這うしかなかった。 時間が経つごとにどんどん具合が悪くなっていった。そんなとき、オーレがちょうど現れてくれた。 カリブの得体の知れない薬を無理やり飲まされてな、ひどい味だったが、解毒剤と治療薬を混ぜたようなもんだった。 それからラム酒もくれた。\nすぐに体が楽になったよ。それからオーレは古い丸太を見つけてきて、俺をここまで運んでくれた。それ以来、 ここで暮らしてる。どれくらい経ったかは正直わからない――もう時間の感覚がなくなっちまったからな。";
			link.l1 = "大丈夫だ、ネイサン。スヴェンソンと俺には大きな計画があるんだ。そしてお前の役割はとても重要だぜ。\nお前はマルーンタウンの持ち場に戻るんだ。ジャックマンのクズ野郎のことは俺たちが片付ける。";
			link.l1.go = "diffindoor_14";
		break;
		
		case "diffindoor_14":
			dialog.text = "マルーンタウンだと？それで一体どうやってうまくいくと思ってるんだ？俺の姿を見ろよ、 ラムに溺れたボロボロの残骸だぜ！役立たずさ……もうマルーンタウンを仕切ってた俺の時代は永遠に終わっちまった。この忌々 しい船の墓場に閉じ込められちまってるんだ。あとどれくらい持つかな？一ヶ月か、二ヶ月か、一年か？\nそしたら俺はこの腐った板の上に転がって、オーレがナサニエル・ホークの残骸を海に放り込むだけさ。一番つらいのは、 もう二度とダニーに会えねえってことだ。ああ、終わったんだよ、相棒。";
			link.l1 = "そんなに悲観的になるな。俺がここから出してやる。";
			link.l1.go = "diffindoor_15";
		break;
		
		case "diffindoor_15":
			dialog.text = "どうやって俺をここから出すつもりだ？それに、どうやってこの場所を離れるんだ？船なんて一隻もないぞ。 いかだでも作るつもりか？";
			link.l1 = "いや、俺はここに来た時と同じようにこの場所を出るつもりだ。像がどこにあるかは……まあ、大体は分かってる。必ず見つけて、それからお前とシャーク・ドッドソンの元に戻る。 その後でスネークアイのところへ連れて行ってやる。あいつが治してくれるさ。";
			link.l1.go = "diffindoor_16";
		break;
		
		case "diffindoor_16":
			dialog.text = "何だと？シャーク・ドッドソンだって？スティーブもここにいるのか？なんて奇妙な場所だ……";
			link.l1 = "ああ、彼はここにいる。この島の「総督」とでも言うべき存在だ。君のことを彼に聞いてみたが、何も知らないそうだ。";
			link.l1.go = "diffindoor_17";
		break;
		
		case "diffindoor_17":
			dialog.text = "そして、彼にはそうしてほしくないわ。こんな姿を見せたくないの。シャーマンが私を治してくれるって言ったでしょう……まだ信じられないわ。ダニーのことも言ってたけど……彼女に会ったの？";
			link.l1 = "ああ。彼女は自分からブルーヴェルドで俺を見つけたんだ。スヴェンソンとの会話を盗み聞きして、 ヤンがあんたを殺すつもりがなく、ジャックマンに逆らって動いていると気づいたらしい。それで、 あんたを探す手助けをするために俺の船の士官になったんだ。";
			link.l1.go = "diffindoor_18";
		break;
		
		case "diffindoor_18":
			dialog.text = "ええ、俺の愛しいダニーよ！あいつは昔のままだ……若い頃と同じくらい無鉄砲でな……今すぐ会って抱きしめたくてたまらねえんだ！ここで寝てる間、いろいろ考えたぜ。分かるか、相棒、 死が近づくと物の見方が変わるもんだ。俺は女房と過ごした時間があまりにも短かった！海賊稼業、兄弟団の公務、 マルーンタウンの統治……それでもダニーはいつも俺を支えてくれた。何週間も一人で待ってくれて、俺がいない間は他の海賊と喧嘩したり、 うちの船を指揮したり……俺のダニーは世界一の女だ！それなのに……もっと愛してるって言ってやればよかった！一緒になると決めた日のこと、今でも覚えてるぜ！実はその日が、 初めて超常のものと出会い、戦った日だったんだ。全部、あの忌々しい偶像――あの像そっくりのやつ――のせいで起きたことさ。話を聞いても構わねえか？なかなか面白い話だぜ。\n";
			link.l1 = "とんでもない！教えてくれ！";
			link.l1.go = "story";
			link.l2 = "ネイサン、今は懐かしい話をしている時間はないぞ。後で、ミスキート村でワインを飲みながら聞かせてくれ。";
			link.l2.go = "diffindoor_19";
		break;
		
		case "story":
			dialog.text = "それは二十五年前のことだ…私は若く、情熱的で、落ち着きがなかった。カリブ海は私の遊び場だった。その頃すでにダニーのことを知っていた。 彼女のことが好きだったし、本当にそう思っていた。彼女も同じ気持ちだった。だが、私たちはよく喧嘩し、口論し、 からかい合っていた。愚かな若さよ…当時の立派な船乗りたちには、私たちはさぞかし良い見世物だったと思う！ともかく、 どういうわけかダニーと私は同じ物語に巻き込まれた。カエル・ロアの地図を見つけ、 そこがインディアンの黄金を見つける場所だと聞かされたんだ。それに、奇妙な形をした黄金の偶像も発見した。 像の上部の小さな複製だった。その偶像は危険なもので、持つ者から活力を吸い取るのだ。しかし、 神殿の中の宝物庫にたどり着くには、その呪われた品が必要だった。唯一の問題は、 それをどう使えばいいのか全く分からなかったことだ。ダニーと私は島へ航海した。そこには古代の神殿があり、 草や木に覆われていた。中に入ると、巨大な迷宮の中にいた。私たちはなんとか正しい道を見つけ、 迷宮の中央部にたどり着いた。行き止まりかと思ったが、絶望しかけたとき、不思議な台座が目に入った。 小さな穴と絵が描かれていた。私は偶像をその穴にはめ込んで…\n";
			link.l1 = "...";
			link.l1.go = "exit";
			pchar.questTemp.LSC.Natanstory = "idol";
			AddDialogExitQuest("Video_story");
			NextDiag.TempNode = "story_1";
		break;
		
		case "story_1":
			dialog.text = "石の台座が数インチ沈み、壁の一つが実は秘密の通路だったことがわかった。\n台座の中に偶像が残されてしまい、引き戻すことはできなかった。\nついに、私たちは巨大な広間にたどり着いた。なんて美しい光景だ！今まで見た中で最も壮麗な建造物だ。\n壁の彫刻や巨大な像……広間中を探したが、宝の手がかりは何も見つからなかった。";
			link.l1 = "へっ、俺たちみたいな奴にはよくあることだぜ。どれだけ頑張っても結局何も得られねえ……";
			link.l1.go = "story_2";
		break;
		
		case "story_2":
			dialog.text = "無駄じゃなかったんだ。何しろ、俺たちは奥に巨大な鳥の像がある玉座の間に入ったんだからな。 像の近くには神秘的な光があって、まるで真夜中に偶像の上に現れる光そっくりだった。俺たちは近づいてみると、 美しい浮遊する球体があったんだ。誓って言うが、本当の話だ！\nそれは確かに現実だったが、同時に現実じゃないような感覚もあった。俺が考え込んでいると、ダニー――あの向こう見ずな悪魔め――がその球体に触ったんだ。すると、さらに強く輝き始めて、ついには彼女の手の中で小さな品に変わったんだ……";
			link.l1 = "...";
			link.l1.go = "exit";
			pchar.questTemp.LSC.Natanstory = "temple";
			AddDialogExitQuest("Video_story");
			NextDiag.TempNode = "story_3";
		break;
		
		case "story_3":
			dialog.text = "我々はまるで冒涜を犯したかのようだった。\n寺院が生き返り、周囲のすべてが動き出し、壁が揺れ、すべてが崩れ始めた。\nまるでインディアンの悪魔たちすべてを目覚めさせてしまい、奴らがその怒りを我々にぶつけてきたかのようだった……";
			link.l1 = "「おったまげたぜ！」";
			link.l1.go = "story_4";
		break;
		
		case "story_4":
			dialog.text = "信じがたいのは分かっています。しかし…";
			link.l1 = "半年前ならお前を嘘つき呼ばわりしていただろうな。だが、カリブで長く暮らしてきて、 お前を疑う理由なんてないと分かった。続けてくれ。どうやって生き延びたんだ？";
			link.l1.go = "story_5";
		break;
		
		case "story_5":
			dialog.text = "俺たちは寺院から飛び出し、運良く間一髪で自分たちの船に乗り込めたんだ。\n俺はすぐに錨を上げるよう命じた。あんな場所から一刻も早く離れたかったからな。";
			link.l1 = "へっ！結局、お宝の代わりに妙な遺物しか見つからなかったのか？なんて素敵で等価な代用品だな、へへ…\nで、それの使い方は分かったのか？それとも役立たずだったのか？";
			link.l1.go = "story_6";
		break;
		
		case "story_6":
			dialog.text = "ちょっと待て。話はまだ終わってないんだ。ダニーがその秘宝を持っていて、俺たちが船室で調べようと決めた瞬間、 空が暗くなって船が現れたんだ。\nなんてこった！それは……";
			link.l1 = "...";
			link.l1.go = "exit";
			pchar.questTemp.LSC.Natanstory = "blackpearl";
			AddDialogExitQuest("Video_story");
			NextDiag.TempNode = "story_7";
		break;
		
		// вот тут делаем развилку, в зависимости прошёл ли игрок Калеуче
		case "story_7":
			dialog.text = "…ヴァン・デル・デッケン本人だ！！";
			if (CheckAttribute(pchar, "questTemp.KhaelRoa"))
			{
				link.l1 = "ヴァン・デル・デッケンか？ふむ……";
				link.l1.go = "story_8_1";
			}
			else
			{
				link.l1 = "「それで、そいつは誰だ？」";
				link.l1.go = "story_8";
			}
		break;
		
		case "story_8":
			dialog.text = "「フライング・ダッチマン」を聞いたことがねえのか？";
			link.l1 = "フライング・ダッチマンの名を知らぬ者などいねえだろう！俺はもう一人のオランダ野郎に会って、 その船長を海の底に送ってやったぜ。あいつはただの普通の海賊で、 船を海藻やボロボロの帆みてえな仮装のガラクタで飾っていただけだったさ。";
			link.l1.go = "story_9";
		break;
		
		case "story_8_1":
			dialog.text = "ああ、でも今回はあのファン・デル・デッケン本人、フライング・ダッチマン号の船長だったんだぞ！";
			link.l1 = "興味深いですね。どうぞ、続けてください。どうやって切り抜けたんですか？";
			link.l1.go = "story_11";
		break;
		
		case "story_9":
			dialog.text = "へっへ、相棒……お前が沈めたのはただの道化船だが、俺が言ってるのは本物のフライング・ダッチマンだぜ。でっけえ軍艦さ。 あんなのに外洋で出くわしたら、神様にでも祈るんだな。あの艦長ヴァン・デル・デッケンとその手下どもは、 永遠に海をさまよう呪いを受けたって話だ。\nボロボロの黒い帆、甲板に立つ死人の乗組員どもが抜き身の刃を構えててよ、艦長自身は……黒い三角帽をかぶった不気味な骸骨だった……イエス……";
			link.l1 = "本当のことを言ってるのか？";
			link.l1.go = "story_10";
		break;
		
		case "story_10":
			dialog.text = "聖書にかけて嘘は言っていないと誓える……「フライング・ダッチマン」と遭遇することは、確実な死を意味するんだ。あの船は強い、ものすごく強いんだよ。 大砲の一斉射撃を受ければ、重フリゲート艦ですら乗組員ごと沈められてしまう……だが、それより恐ろしいのは、どうやって不死者どもと戦えっていうんだ？";
			link.l1 = "「でも、この悪夢を生き延びたんだな！」";
			link.l1.go = "story_11";
		break;
		
		case "story_11":
			dialog.text = "すべては愛しいダニーと、寺院から手に入れたインディアンの遺物のおかげだ。\n皆に戦う準備を命じてはいたが、もうこれで終わりだと悟っていた。\n『フライング・ダッチマン』がこちらに向かって進んできて、 その恐ろしい乗組員たちとヴァン・デル・デッケン本人が甲板に立っているのが見えた。\nあの船がこちらに大砲を向け始めた、だが……";
			link.l1 = "...";
			link.l1.go = "exit";
			pchar.questTemp.LSC.Natanstory = "artefact";
			AddDialogExitQuest("Video_story");
			NextDiag.TempNode = "story_12";
		break;
		
		case "story_12":
			dialog.text = "ダニーがアーティファクトを掲げて投げた。なぜそんなことをしたのか、私には全く分からなかった。 彼女は女の勘だとか何とか言っていた……。アーティファクトは再び光る球体に戻り、爆発して幽霊船に致命的な損傷を与え、乗組員の士気をくじいた。 私はダッチマン号への砲撃を命じた。\n最初の一斉射撃で奴らは震え上がった。私たちは再び攻撃し、アーティファクトの影響から立ち直る前に、 もう一度あの腐った船体を撃ち抜いた……。";
			link.l1 = "それで、結局あいつらと戦う羽目になったのか？";
			link.l1.go = "story_13";
		break;
		
		case "story_13":
			dialog.text = "確かにそうだ。あれは俺の人生で一番きつい戦いだったと誓うぜ。あいつらのオンボロ船は今にも沈みそうだったのに、 それでも俺の船体の半分をぶっ壊しやがった。だが最後は、あの忌々しい火薬庫を吹き飛ばして、 やつらを空高くぶっ飛ばしてやったんだ。";
			link.l1 = "それで沈めたのか？フライング・ダッチマン号を沈めたのか？";
			link.l1.go = "story_14";
		break;
		
		case "story_14":
			dialog.text = "ああ、くそっ！やったんだよ！..";
			link.l1 = "...";
			link.l1.go = "exit";
			pchar.questTemp.LSC.Natanstory = "ending";
			AddDialogExitQuest("Video_story");
			NextDiag.TempNode = "story_15";
		break;
		
		case "story_15":
			dialog.text = "あの忌々しい船が沈んだ。太陽がまた輝き始め、空も晴れ渡った。そして俺たちはついに幸せを感じ始めたんだ…お前には想像もできねえほどの幸せさ。死神を出し抜いたんだぜ。そんな瞬間は人を結びつけるもんだ。 俺たちはあの出会いよりずっと前にやるべきだったことをした――抱き合い、キスをし、互いへの愛を告白し、永遠に一緒にいると誓ったんだ。";
			link.l1 = "「そして、まだ一緒にいるのか……」";
			link.l1.go = "story_16";
		break;
		
		case "story_16":
			dialog.text = "ああ、そうだよ。ダニーと俺は結婚したんだが、一度も後悔したことはねえ。あんなにいい妻であり戦友は他にいないぜ。 ";
			if (CheckAttribute(pchar, "questTemp.KhaelRoa"))
			{
				link.l1 = "つまり、ついに「フライング・ダッチマン」を沈めたあの謎の船長の正体が分かったというわけか……あなたこそ本物の英雄だ！";
				link.l1.go = "story_17_1";
			}
			else
			{
				link.l1 = "じゃあ、お前ら二人は本物の英雄ってわけか？あの有名な幽霊船を沈めたんだな。\n待てよ！「フライング・ダッチマン号」はまだ浮かんでるって言ったよな……でも、それならどうして海の底に沈んでるはずなんだ？";
				link.l1.go = "story_17";
			}
		break;
		
		case "story_17":
			dialog.text = "おい、相棒、お前は何も分かっちゃいねえな……ヴァン・デル・デッケンを沈めることはできても、奴を殺すことはできねえんだ。 奴とその手下にかかった呪いはあまりにも強い、死よりもはるかに強いんだよ……";
			link.l1 = "...";
			link.l1.go = "exit";
			pchar.questTemp.LSC.Natanstory = "VDDrepair";
			AddDialogExitQuest("Video_story");
			NextDiag.TempNode = "story_18";
		break;
		
		case "story_17_1":
			dialog.text = "俺は英雄かもしれねえが、ヴァン・デル・デッケンは殺せねえんだ。あいつとその乗組員、そして船にかかった呪いは、 死よりも強いんだよ……";
			link.l1 = "...";
			link.l1.go = "exit";
			pchar.questTemp.LSC.Natanstory = "VDDrepair";
			AddDialogExitQuest("Video_story");
			NextDiag.TempNode = "story_18";
		break;
		
		case "story_18":
			dialog.text = "お前がその船を沈めるたびに、乗組員たちは修理し、穴を塞ぎ、そして永遠の航海を続けるんだ。";
			if (CheckAttribute(pchar, "questTemp.KhaelRoa"))
			{
				link.l1 = "分かっている、ネイサン、分かっているさ。それでも、フライング・ダッチマンはもう誰にも迷惑をかけないだろう。";
				link.l1.go = "story_22";
			}
			else
			{
				link.l1 = "まあ、分かるけど、これはまるで作り話みたいだな。解体されて沈められた船を修理するなんて……";
				link.l1.go = "story_19";
			}
		break;
		
		case "story_19":
			dialog.text = "俺たちがその船を沈めた後も、何度も目撃されたって話だ……信じるかどうかはお前が決めろ。";
			link.l1 = "それで、その神殿のある島――お前が遺物を見つけたあの島はどこなんだ？";
			link.l1.go = "story_20";
		break;
		
		case "story_20":
			dialog.text = "そこは未踏の地で、カリブ海の東のどこかに位置している。\n島の地図はマルーンタウンに残してきたが、ご存じの通り今はそこへ航海できない。\n正直、行きたくもない。覚えているのは名前だけ――カエル・ロアだ……";
			link.l1 = "なんて面白い話だ。ぜひその島を見つけてみたい！";
			link.l1.go = "story_21";
		break;
		
		case "story_21":
			dialog.text = "ああ、それはおすすめしないよ……俺はもう二度とそこへ行くつもりはないからな、間違いなく。";
			link.l1 = "それでもぜひ訪れてみたいな……まあいいや、面白い話をありがとう！これで奥様についてもよく分かったよ。あなたたち二人とも生きる伝説だね！";
			link.l1.go = "diffindoor_19";
			DeleteAttribute(pchar, "questTemp.LSC.Natanstory");
			pchar.questTemp.NatanStory = "true";
		break;
		
		case "story_22":
			dialog.text = "何を言いたいんだ、相棒？さっき俺があいつは殺せねえって言ったばかりじゃねえか？";
			link.l1 = "ネイサンエル、俺はカエル・ロアまで航海したんだ。\nそしてチャビン族の寺院を訪れた。そこは四半世紀前にお前とダニエル、それに年寄りの男が来た場所だ。 その時お前たちが寺院から持ち出した遺物は「昇る太陽のオーブ」と呼ばれていた。\nその遺物こそが「フライング・ダッチマン」の注意をお前たちに引き寄せたんだ。 あの船の船長はチャビンの遺物に目がなかったらしい。";
			link.l1.go = "story_23";
		break;
		
		case "story_23":
			dialog.text = "お前はカエル・ロアに行ったのか？\nでも、そんなはずがねえ！\n本当のことを言ってるのか？";
			link.l1 = "誓うよ。君が迷宮と巨大な鳥の像について話してくれた時、俺はすぐにその場所がどこか分かったんだ。 カリブのシャーマン、トゥットゥアタパクが君の冒険について教えてくれた。あいつが俺をその島に導いてくれたんだ。 あれはセントクリストファーの東にある。とても小さくて、輪の形をしている。周りは岩に囲まれていて、 中には小さな入り江がある。そして、寺院へ続く道は一本だけで、草に覆われている。 その寺院はピラミッドの形で建てられているんだ。";
			link.l1.go = "story_24";
		break;
		
		case "story_24":
			dialog.text = "ああ！ここがカエル・ロアだ。だが、なぜお前はそこへ行ったんだ？";
			link.l1 = "カレウチェの呪いを解くには……いや、“フライング・ダッチマン”の呪いだな。実は、あの船の本当の名は“フライング・ハート”で、船長は“バルタザール・ド・コルデス”だった。五十年前、彼はインディオの死神ユム・シミルに呪われたんだ。俺は、 バルタザールがかつて寺院から盗んだユム・シミルの翡翠の髑髏を手に入れて、あのコンドル像の前の台座に戻したんだ……\n";
			link.l1.go = "story_25";
		break;
		
		case "story_25":
			dialog.text = "";
			link.l1 = "…俺が頭蓋骨を返したことで、カレウチェの呪いを解いたんだ。それに、チャビンの護符をもう二つ持っていたから、 あの女は島の近くで俺を襲ってきた――まさにあんたの時と同じさ。だが、呪いが消えた今、バルタザールはもう不死身じゃなかった。 トゥトゥアタパクが言っていた通りだ。\nだから…『フライング・ダッチマン』はもう存在しない。俺が自分の手でケリをつけたよ。";
			link.l1.go = "story_26";
		break;
		
		case "story_26":
			dialog.text = "雷と稲妻だ！驚いたぜ！お前……本当にナサンじいさんをからかってるんじゃねえのか？いや、その目を見りゃ嘘じゃねえってわかる！ お前は本物の英雄だ！";
			link.l1 = "英雄かどうかはともかく、俺もあんたと同じようにいろんな冒険を経験してきたんだ。\nまあ、これからは共通の話題もできたし、過去のことも何度も語り合うことになるだろうな。";
			link.l1.go = "diffindoor_19";
			DeleteAttribute(pchar, "questTemp.LSC.Natanstory");
		break;
		
		case "diffindoor_19":
			dialog.text = "もう俺を置いて行くのか、友よ？";
			link.l1 = "ああ、ネイサン。どうか、私が戻るまで耐えてくれ。気をつけて。何よりも、生きていてくれれば、 私が戻った時にはすべてうまくいく。コースト同盟も、ダニエルも、お前を必要としているんだ。";
			link.l1.go = "diffindoor_20";
		break;
		
		case "diffindoor_20":
			dialog.text = "今はダニーがあなたの乗組員なのか？どうか、彼女のことを頼む。若い頃から全く変わっていない、 相変わらず向こう見ずで、地獄だってためらわずに突き進むだろう。彼女に、私はとても愛していると伝えてくれ…";
			link.l1 = "もちろんだよ。必ず一緒に迎えに来るから、約束するぜ、ネイサン。しっかり耐えて、元気を出してくれ。 オーレが面倒を見てくれるさ。すぐに会おう！";
			link.l1.go = "diffindoor_21";
		break;
		
		case "diffindoor_21":
			DialogExit();
			LAi_SetGroundSitTypeNoGroup(npchar);
			NextDiag.CurrentNode = "diffindoor_wait";
			pchar.questTemp.LSC.NatanTalk = "true"; // атрибут - разговор с Натаном состоялся
			AddQuestRecord("BaronReturn", "10");
			npchar.greeting = "nathaniel_1";
		break;
		
		case "diffindoor_wait":
			dialog.text = "「ああ、お前か」 "+pchar.name+"。まだ島を出ていないのか？";
			link.l1 = "心配するな、ネイサン、すべて計画通りに進んでいる。今は休め。";
			link.l1.go = "exit";
			NextDiag.TempNode = "diffindoor_wait";
		break;
		
		case "danny":
			PlaySound("Voice\English\saga\Nataniel Hawk-03.wav");
			dialog.text = "ダニエル！…ダニー！俺のダニー！…";
			link.l1 = "...";
			link.l1.go = "danny_1";
		break;
		
		case "danny_1": // перекидываем pchar
			DialogExit();
			LAi_SetActorType(pchar);
			SetMainCharacterIndex(GetCharacterIndex("Nathaniel"));
			PChar = GetMainCharacter();			
			LAi_SetPlayerType(PChar);
			sld = characterFromId("Danielle");
			sld.dialog.currentnode = "nathaniel_6";
			LAi_SetActorType(sld);
			LAi_ActorDialog(sld, pchar, "", -1, 0);
			NextDiag.CurrentNode = "danny_2";
		break;
		
		case "danny_2":
			dialog.text = "ありがとう、友よ。すべてに感謝する、特に私のダニーのことは……";
			link.l1 = "どういたしまして、Nathan。";
			link.l1.go = "exit";
			NextDiag.TempNode = "danny_2";
		break;
		
		// в Марун-Тауне
		case "marun_town":
			dialog.text = "おや、誰が来たかと思えば！それは "+GetFullName(pchar)+"  自分か！入ってくれ、入ってくれ、友よ！元気だったか？";
			link.l1 = "私は元気です。あなたはどうだ、ネイサン？もう陰りは見えないな。調子が良さそうだ。 スネークアイも本当によくやったな！";
			link.l1.go = "marun_town_1";
		break;
		
		case "marun_town_1":
			ChangeCharacterComplexReputation(pchar, "fame", 3);
			dialog.text = "ああ、あんたのシャーマンはまるで奇跡を起こす人だな。あの忌々しい転送の前よりも体調がいいぜ！ まるで十歳若返った気分だ！ "+pchar.name+"、あなたには大きな借りができました。本当に感心しています。見ず知らずの私を助け、呪われたポータルをくぐり、 死の淵から救い出し、妻のもとへ連れ戻してくれたのですから！\nそれだけではありません！あなたは私たちの船と家まで取り戻してくれました。今やあなたは私たちの最愛の友人です。 永遠に。何か必要なことがあれば、誰に頼めばいいか分かっていますね！マルーンタウンは、あなたに必要があれば、 いつでも守り、支え、避難所を提供します。\nもしあなたが危険に陥れば、村全体があなたのために戦います。平和な時には、ここで友情、最高のラム酒、 柔らかなベッド、そして安らげる場所が待っています。ダニーと私は、それを必ず約束します。";
			link.l1 = "ありがとうございます、バロン！お元気そうで本当に嬉しいですし…ダニーとご一緒なのも喜ばしいです。";
			link.l1.go = "marun_town_2";
		break;
		
		case "marun_town_2":
			dialog.text = "お前が来るのを待っていたぜ、 "+pchar.name+"そして、私は贈り物も用意した――珍しくて強力な武器だ。いつか一発で大勢の敵を倒さねばならぬ時が来るかもしれんが、 この手持ち迫撃砲が役に立つだろう。「スコロペッタ」は特製の手榴弾を撃ち出すので、 その作り方も書いた説明書を用意した。さあ、受け取ってくれ。";
			link.l1 = "なんて素晴らしい武器だ！ありがとう！";
			link.l1.go = "marun_town_3";
		break;
		
		case "marun_town_3":
			GiveItem2Character(pchar, "grape_mushket"); 
			GiveItem2Character(pchar, "recipe_grenade"); 
			Log_Info("You have received a hand mortar");
			Log_Info("You have received a grenade instruction");
			PlaySound("interface\important_item.wav");
			dialog.text = "「もっと頻繁に会いに来てくれよ」 "+pchar.name+"！ダニーと俺はいつでもあんたに会えて嬉しいぜ。";
			link.l1 = "喜んでお引き受けします。すぐにお会いできるのを楽しみにしていてください！";
			link.l1.go = "exit";
			NextDiag.TempNode = "marun_town_4";
		break;
		
		case "marun_town_4":
			dialog.text = "「ああ、友よ」 "+GetFullName(pchar)+"！どうぞどうぞ、船長！ご機嫌いかがですか？何かお手伝いしましょうか？";
			// калеуче
			if (CheckAttribute(pchar, "questTemp.Caleuche.NatanInfo"))
			{
				link.l2 = "ネイサン、大事な用件で君のところに来たんだ。\n見捨てられた船の島で、君とダニーがインディアンの神殿に忍び込んで『フライング・ダッチマン』 を沈めたって話してくれたのを覚えているか？";
				link.l2.go = "caleuche";
			}
			link.l1 = "ありがとう、元気だよ。二人の顔が見たかっただけさ。";
			link.l1.go = "exit";
			NextDiag.TempNode = "marun_town_4";
		break;
		
		case "caleuche":
			dialog.text = "もちろん、そうだ。";
			link.l1 = "あの神殿のある島に行かなくちゃならないんだ。どうしても見つける必要があるんだよ。 君がその地図を持っているって言ってたよな。座標を教えてくれないか？";
			link.l1.go = "caleuche_1";
		break;
		
		case "caleuche_1":
			dialog.text = "おい、友よ、これはとんでもなく危険な仕事だぜ……カエル・ロアの神殿は呪われてるんだ。そこの回廊に誰が住んでいるか、もしお前が知ってたら……";
			link.l1 = "今は、あの時お前が見たものよりもはるかに恐ろしい化け物どもが住み着いているんだ。\nそれでも俺はそこへ行くつもりだ。";
			link.l1.go = "caleuche_2";
		break;
		
		case "caleuche_2":
			dialog.text = "もしあなたがそこで命を落としたら、私は自分を決して許せません。 "+pchar.name+"、お願いですわ、この企てはやめてください！それに、「フライング・ダッチマン」が最もよく現れる場所ですのよ……";
			link.l1 = "もうすでにそれに遭遇したことがあるし、どうやって振り切るかも知っている。\nネイサン、頼む、カエル・ロアの座標を教えてくれ。それと、その寺院について知っていることを全部話してくれ。 そこにアンデッドのインディアンが住んでいるってこと以外でな。";
			link.l1.go = "caleuche_3";
		break;
		
		case "caleuche_3":
			dialog.text = "まあ……断れないけどさ……でもな、あんた、俺とダニーがそこで何を体験したか、全然分かっちゃいねえだろ！ カエル・ロアはアンティグアの東にあるんだ。俺がマルーンタウンに戻ったときにちょうどその地図を見つけたんだ、 場所は……（見ながら）座標は北緯19度32分、西経62度25分だ。";
			link.l1 = "場所は日誌に書き留めておくよ……ありがとう、Nathan！";
			link.l1.go = "caleuche_4";
		break;
		
		case "caleuche_4":
			dialog.text = "礼なら後でいい。さて、詳しい話だ。カエル・ロア島は岩礁が輪になっていて、その内側に入り江がある。 岩の間にある通路を探せ――そこはかなり深い。入り江に入ったら錨を下ろし、浜辺で上陸しろ。島の奥へ続く古い道を探せ――道は一つしかない。それを進めばインディアンのピラミッド、つまりお前が探している神殿に辿り着く。\n島自体は静かだが、神殿の中はあらゆる化け物で溢れている。入口はピラミッドの頂上にある。 中には三つの通路があるが、真ん中の道を選べ。そのまま廊下を進むと、四つの入口または出口がある広場に出る。 ここで初めて神殿の怪物どもに襲われたから、気をつけろ。\nその先は迷宮だ。とても複雑で、俺はどうしても正しい道順を思い出せない。 迷宮の中にはおぞましい怪物がうじゃうじゃいる。全部倒してから、二つの入口、六本の柱、 九枚の石板がある広間に進め。そこが聖域の前室だ。石の壁は閉ざされていて、 どうやって開けるのか俺にはさっぱり分からん。\n何か仕掛けがあるが、神に誓って俺には仕組みが分からん！俺は偶然、偶像を鍵として使った。 中央の石板にそれをはめ込んだら扉が開いた。でもお前はそんな偶像を持っていないから、 自分でこの仕掛けの動かし方を考えるしかないな。";
			link.l1 = "わかった、できる限り調べてみるよ。聖域のことはどうする？";
			link.l1.go = "caleuche_5";
		break;
		
		case "caleuche_5":
			dialog.text = "聖域は非常に高い天井と大きな石の階段がある広大なホールだ。だが、その階段はほとんどが老朽化して崩れており、 使うことはできない。しかし、この神殿を建てた者たちは、どうやら偉大な魔術師でもあったようだ。 ククルカンのものと似たポータルがあり、それを使えば一つの場所から別の場所へ移動できる。\nポータルはすぐに分かるはずだ――色とりどりの渦のように見える。一階には二つのポータルがあるが、そのうち一つは罠なので気をつけろ！ 正しいポータルは二階へと導いてくれる。そこでさらに上階へ進むための別のポータルを探し、 そして神殿の中心部へと進むのだ！\nそこ、大きな鳥の像の前に、ダニーと私が持ってきたあの魔法のアーティファクトが安置されていた。そして、 その後何が起きたかはすでに話した通りだ。";
			link.l1 = "今おっしゃったこと、覚えておきます。ありがとう、ナサニエル。あなたのおかげで大いに助かりました。";
			link.l1.go = "caleuche_6";
		break;
		
		case "caleuche_6":
			dialog.text = "「気をつけてな」 "+pchar.name+"。迷宮や神殿の回廊には危険が満ちている。たった一度の誤った行動で、永遠にそこから出られなくなるぞ。";
			link.l1 = "「備えあれば憂いなし」だ、友よ。前もって警告されたから、用意もできているってわけだ。もう行かなくちゃ。またな！ ";
			link.l1.go = "caleuche_7";
		break;
		
		case "caleuche_7":
			dialog.text = "「幸運を祈るぜ。」 "+pchar.name+"!";
			link.l1 = "ありがとう！";
			link.l1.go = "caleuche_8";
		break;
		
		case "caleuche_8":
			DialogExit();
			DeleteAttribute(pchar, "questTemp.NatanStory");
			DeleteAttribute(pchar, "questTemp.Caleuche.NatanInfo");
			AddQuestRecord("Caleuche", "35");
			NextDiag.CurrentNode = "marun_town_4";
		break;
		
		case "Exit":
			NextDiag.CurrentNode = NextDiag.TempNode;
			DialogExit();
		break;
	}
}
